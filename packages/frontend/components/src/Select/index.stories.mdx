import { Meta, Canvas, Story } from '@storybook/addon-docs/blocks';
import {Select, Datalist} from '.'
import {useState, useEffect} from 'react'

<Meta title="Components / Select" />


<Canvas>
    <Story name="initial">
        <Select 
            label='Select Number' 
            name='name' 
            options={[{value: '1', label:'one'}, {value: '2', label:'two'},{value: '3', label:'three'}]} 
        />
    </Story>
</Canvas>



<Canvas>
    <Story name="With default value">
        {() => {
        const [state, set] = useState({defaultValue: '1', options: []})
        const [value, setValue] = useState(null)
        useEffect(() => set({defaultValue: '2', options: [{value: '1', label:'one'}, {value: '2', label:'twotwotwotwotwotwotwotwo'},{value: '3', label:'three'}]}), [])
        
        return <>
        <div>Selected Value: {value}</div>
        <Select 
            label='Select Number' 
            name='name' 
            onChange={({value}) => setValue(value)}
            defaultValue={state.defaultValue}
            options={state.options}/></>
        }}        
    </Story>
</Canvas>


<Canvas>
    <Story name="small">
        {() => {
        
        return <>
        <Select 
            label='Select Number' 
            name='name' 
            small
            options={[{value: '1', label:'one'}, {value: '2', label:'two'},{value: '3', label:'three'}]}/></>
        }}        
    </Story>
</Canvas>


<Canvas>
    <Story name="Select Button">
        {() => {
        
        return <>
        <Select 
            name='name'    
            
            defaultValue={'1'}         
            options={[{value: '1', label:'one'}, {value: '2', label:'two'},{value: '3', label:'three'}]}>
                <button>add</button>
            </Select></>
        }}        
    </Story>
</Canvas>

<Canvas>
    <Story name="Select Input">
        {() => {
        
        return <>
        <Select
            label='Select Number' 
            input 
            inputValue='new_input_value'
            name='name'    
            options={[{value: '1', label:'one'}, {value: '2', label:'two'},{value: '3', label:'three'}]}>
            </Select>
      
        <div style={{margin: '100px 0'}}>
        <Select
            label='Select Number' 
            input 
            defaultValue={'1'}
            name='name'    
            options={[{value: '1', label:'one'}, {value: '2', label:'two'},{value: '3', label:'three'}]}>
            </Select>
            </div>
            </>
        }}        
    </Story>
</Canvas>
